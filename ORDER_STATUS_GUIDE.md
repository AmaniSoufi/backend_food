# ๐ ุฏููู ุญุงูุงุช ุงูุทูุจ (Order Status Guide)

## ๐ข ุฌุฏูู ุญุงูุงุช ุงูุทูุจ

| Status Code | ุงูุงุณู | ุงููุตู | ุงูุฅุดุนุงุฑ ูููุดุชุฑู | ุงููุณุคูู |
|------------|-------|-------|-----------------|---------|
| **0** | Pending | ูู ุงูุงูุชุธุงุฑ | - | - |
| **1** | Confirmed/Accepted | ุชู ูุจูู ุงูุทูุจ ูู ุงููุทุนู | "ุชู ุชุฃููุฏ ุทูุจู! โ" | ุงููุทุนู |
| **2** | Assigned to Delivery | ุชู ุชุนููู ููุฏูุจ | "ุชู ุชุนููู ููุฏูุจ ููุทูุจ ๐" | ุงููุทุนู |
| **3** | Accepted by Driver | ุงูููุฏูุจ ูุจู ุงูุทูุจ | "ุงูููุฏูุจ ูุจู ุทูุจู ๐" | ุงูููุฏูุจ |
| **5** | Rejected | โ **ูุฑููุถ** | "ุชู ุฑูุถ ุทูุจู โ" | ุงููุทุนู |
| **6** | Preparing | ๐จโ๐ณ **ููุฏ ุงูุชุญุถูุฑ** | "ุงููุทุนู ูุญุถุฑ ุทูุจู ุงูุขู ๐จโ๐ณ" | ุงููุทุนู |
| **7** | On The Way | ูู ุงูุทุฑูู | "ุทูุจู ูู ุงูุทุฑูู ุฅููู ๐" | ุงูููุฏูุจ |
| **8** | Delivered | ุชู ุงูุชูุตูู | "ุชู ุชุณููู ุทูุจู ๐" | ุงูููุฏูุจ |
| **9** | Cancelled | ููุบู | "ุชู ุฅูุบุงุก ุทูุจู โ" | ุงููุทุนู/ุงููุดุชุฑู |

---

## ๐ ุณูุฑ ุงูุนูู ุงูุตุญูุญ

### ูุณุงุฑ ุงูุทูุจ ุงููุงุฌุญ:
```
0 (Pending) 
  โ
1 (Confirmed) โ ุงููุทุนู ููุจู
  โ
2 (Assigned) โ ุงููุทุนู ูุนูู ููุฏูุจ
  โ
3 (Accepted by Driver) โ ุงูููุฏูุจ ููุจู
  โ
6 (Preparing) โ ุงููุทุนู ูุจุฏุฃ ุงูุชุญุถูุฑ
  โ
7 (On The Way) โ ุงูููุฏูุจ ููุทูู
  โ
8 (Delivered) โ ุชู ุงูุชูุตูู
```

### ูุณุงุฑ ุงูุฑูุถ:
```
0 (Pending) 
  โ
5 (Rejected) โ ุงููุทุนู ูุฑูุถ ูุจุงุดุฑุฉ
```

```
0 (Pending) 
  โ
1 (Confirmed)
  โ
2 (Assigned)
  โ
4 (Rejected by Driver) โ ุงูููุฏูุจ ูุฑูุถ
  โ
2 (Re-assigned) โ ุชุนููู ููุฏูุจ ุขุฎุฑ
```

---

## โ๏ธ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ - **ุชู ุฅุตูุงุญูุง**

### โ **ุฎุทุฃ ุณุงุจู:**
```dart
// ูู orders-screen.dart - ุงูุณุทุฑ 272
status: 5, // preparing  โ ุฎุทุฃ!
```
**ุงููุดููุฉ:** status 5 = Rejected ูููุณ Preparing!  
**ุงููุชูุฌุฉ:** ุงููุดุชุฑู ูุณุชูู ุฑุณุงูุฉ "ุชู ุฑูุถ ุทูุจู" ุจุฏูุงู ูู "ูุชู ุชุญุถูุฑ ุทูุจู"

### โ **ุงูุชุตุญูุญ:**
```dart
// ูู orders-screen.dart - ุงูุณุทุฑ 272
status: 6, // preparing โ ุตุญูุญ!
```

---

## ๐ฏ ุงูุชุนุฏููุงุช ุงูุชู ุชูุช

### 1. ูู `orders-screen.dart`:
```dart
// ูุธููุฉ startPreparing
status: 6, // preparing (ูุงู 5 ุฎุทุฃ)

// ูุธููุฉ markReady  
status: 7, // on the way (ูุงู 6)
```

### 2. ูู `admin.js`:
```javascript
const msgMap = {
    1: 'ุชู ุชุฃููุฏ ุทูุจู โ',
    2: 'ุชู ุชุนููู ููุฏูุจ ููุทูุจ ๐',
    3: 'ุงูููุฏูุจ ูุจู ุทูุจู ๐',
    5: 'ุชู ุฑูุถ ุทูุจู โ',
    6: 'ุงููุทุนู ูุญุถุฑ ุทูุจู ุงูุขู ๐จโ๐ณ', // ูุญุฏูุซ
    7: 'ุทูุจู ูู ุงูุทุฑูู ุฅููู ๐',
    8: 'ุชู ุชุณููู ุทูุจู ๐',
    9: 'ุชู ุฅูุบุงุก ุทูุจู โ',
};
```

### 3. ูู `fcm.js` ู `fcm_admin.js`:
- ุชู ุชุญุฏูุซ ุฑุณุงุฆู ุงูุญุงูุงุช ูุชุทุงุจู ุงูุฃุฑูุงู ุงูุตุญูุญุฉ
- ุฅุถุงูุฉ Status 6 = "ุงููุทุนู ูุญุถุฑ ุทูุจู ุงูุขู ๐จโ๐ณ"

---

## ๐ฑ ุงูุฅุดุนุงุฑุงุช ุจูู ุงููุทุนู ูุงูููุฏูุจ

### ุนูุฏ ุชุนููู ุงูููุฏูุจ:
- ๐ **ููููุฏูุจ:** "ุทูุจ ุชูุตูู ุฌุฏูุฏ! ๐"
- ๐ **ูููุทุนู:** "ุชู ุชุนููู ุงูููุฏูุจ ๐"

### ุนูุฏ ูุจูู ุงูููุฏูุจ:
- ๐ **ูููุทุนู:** "ุงูููุฏูุจ ูุจู ุงูุทูุจ! โ"

### ุนูุฏ ุฑูุถ ุงูููุฏูุจ:
- ๐ **ูููุทุนู:** "ุงูููุฏูุจ ุฑูุถ ุงูุทูุจ โ - ุงูุณุจุจ"

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ "ุจุฏุก ุงูุชุญุถูุฑ":
1. ุงูุชุญ ูุงุฌูุฉ ุงููุทุนู
2. ุงุฎุชุฑ ุทูุจ ููุจูู (Status = 1 ุฃู 2 ุฃู 3)
3. ุงุถุบุท "ุจุฏุก ุฅุนุฏุงุฏ ุงูุทุนุงู"
4. โ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุงููุดุชุฑู ูุณุชูู "ุงููุทุนู ูุญุถุฑ ุทูุจู ุงูุขู ๐จโ๐ณ"
5. โ **ุงููุชูุฌุฉ ุงูุณุงุจูุฉ (ุฎุทุฃ):** ุงููุดุชุฑู ูุณุชูู "ุชู ุฑูุถ ุทูุจู โ"

### ุงุฎุชุจุงุฑ "ุฌุงูุฒ ููุชูุตูู":
1. ุงุถุบุท "ุฌุงูุฒ ููุชูุตูู" (Mark Ready)
2. โ **ุงููุชูุฌุฉ:** Status = 7 (On The Way)
3. ุงููุดุชุฑู ูุณุชูู "ุทูุจู ูู ุงูุทุฑูู ุฅููู ๐"

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. โ **Status 5 = Rejected** (ูุฑููุถ ูู ุงููุทุนู)
2. โ **Status 6 = Preparing** (ููุฏ ุงูุชุญุถูุฑ)
3. โ **Status 7 = On The Way** (ูู ุงูุทุฑูู)
4. โ **ูุง ุชุณุชุฎุฏู Status 4** (ูุญุฌูุฒ ูุฑูุถ ุงูููุฏูุจ ุฏุงุฎููุงู)
5. โ ุฌููุน ุงูุฅุดุนุงุฑุงุช ุชูุฑุณู ูููุดุชุฑู ุนูุฏ ุชุญุฏูุซ ุงูุญุงูุฉ
6. โ ุงูุฅุดุนุงุฑุงุช ุจูู ุงููุทุนู ูุงูููุฏูุจ ุชุนูู ุจุดูู ูููุตู

---

## โ ุงูููุฒุงุช ุงูููุชููุฉ

- [x] ุฅุตูุงุญ ุฎุทุฃ Status 5 vs 6
- [x] ุชุญุฏูุซ ุฑุณุงุฆู ุงูุญุงูุงุช ูู ุฌููุน ุงููููุงุช
- [x] ุฅุดุนุงุฑุงุช ุตุญูุญุฉ ูููุดุชุฑู
- [x] ุฅุดุนุงุฑุงุช ุจูู ุงููุทุนู ูุงูููุฏูุจ
- [x] ุชูุซูู ูุงูู ูุฌููุน ุงูุญุงูุงุช

---

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ

1. โ `lib/features/admin/screens/orders-screen.dart` - ุชุตุญูุญ ุงูุฃุฑูุงู
2. โ `server/routes/admin.js` - ุชุญุฏูุซ ุงูุฑุณุงุฆู
3. โ `server/routes/fcm.js` - ุชุญุฏูุซ ุฑุณุงุฆู FCM
4. โ `server/routes/fcm_admin.js` - ุชุญุฏูุซ ุฑุณุงุฆู FCM
5. โ `server/routes/delivery.js` - ุฅุถุงูุฉ ุงูุฅุดุนุงุฑุงุช ูููุทุนู

---

**ุงูุขู ุงููุธุงู ูุนูู ุจุดูู ุตุญูุญ! ๐**

